<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html">
    <h:head>
        <title>Add Application</title>
        <link rel="stylesheet" type="text/css" href="../mystyle.css"/>
        <meta name="viewport" content="width=device-width"/>
    </h:head>
    <h:body>
        <header>
            <h2>Add Application</h2>
            <p>Create your applications here by filling out the required fields.</p>
        </header>
        <nav>
            <h:link value="User" outcome="user"/> |
            <h:link value="Add Application" outcome="addapplication"/>
        </nav>
        <h:form rendered="#{!addAppBean.clickedSent}">
            <h:outputLabel value="Area of expertise:" />
            <h:selectOneMenu value="#{addAppBean.expertise}">
                <f:selectItems value="#{addAppBean.comp}"/>
            </h:selectOneMenu>
            <br/>
            <h:outputLabel value="Years of experience: "/>
            <h:inputText value="#{addAppBean.yearsExperience}"/>
            <h:commandButton value="Add" action="#{addAppBean.addExpertise}">
                <f:ajax execute="@form" render=":outPutPG" />
            </h:commandButton>
            <hr/>
            <h:outputLabel value="Periods of availability: "/>
            <br/>
            <h:outputLabel value="From "/>
            <h:inputText value="#{addAppBean.dateFrom}">
                <f:convertDateTime pattern="yyyy-MM-dd"/>
            </h:inputText>
            <h:outputLabel value="To "/>
            <h:inputText value="#{addAppBean.dateTo}">
                <f:convertDateTime pattern="yyyy-MM-dd"/>
            </h:inputText>
            <h:outputLabel value="Use this pattern: yyyy-MM-dd(Example: 2015-01-22)" style="font-size: 10px;"/>
            <h:commandButton value="Add" action="#{addAppBean.addAvailability}">
                <f:ajax execute="@form" render=":outPutPG" />
            </h:commandButton>
        </h:form>
        <hr/>
        <h:panelGroup id="outPutPG" rendered="#{!addAppBean.clickedSent}">
            <h3>Competence:</h3>
            <h:dataTable value="#{addAppBean.expertiseList}" var="expertise">
                <h:column>
                    Expertise: #{expertise.competence}<br/>
                    Years of Experience: #{expertise.yearsOfExperience}<br/>
                </h:column>
            </h:dataTable>
            <br />
            <h3>Availability:</h3>
            <h:dataTable value="#{addAppBean.availabilityList}" var="avail">
                <h:column>
                    From: #{avail.fromDate}<br/>
                    To: #{avail.toDate}<br/>
                </h:column>
            </h:dataTable>
        </h:panelGroup>
        <h:form rendered="#{!addAppBean.clickedSent}">
            <h:commandButton value="Cancel" action="#{addAppBean.cancel}"/>
            <h:commandButton value="Send" action="#{addAppBean.send}"/>
        </h:form>
        <hr />
        <h:panelGroup rendered="#{addAppBean.clickedSent}">
            Application sent!
            <h:form><h:commandButton value="Go back" action="#{addAppBean.goBack}"/></h:form>
        </h:panelGroup>
    </h:body>
</html>
