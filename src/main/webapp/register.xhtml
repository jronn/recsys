<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"      
      xmlns:h="http://java.sun.com/jsf/html">
 
    <h:head>
        <title>Registration</title>
        <h:outputStylesheet library="css" name="mystyle.css" /> 
        <script src="regjs.js"/>
    </h:head>
    <h:body>
        <header>
            <h2>User registration</h2>
            <p>Create your new user account here. If you already have an account, use the menu
            bar below to log in instead.</p>
        </header>
        <nav>
            <h:link value="Login" outcome="login"/> |
            <h:link value="Register" outcome="register"/>
        </nav>
        <h:form id="myForm" onsubmit="return validate()" rendered='#{!registerBean.successful}'>
          <h:outputText value='Name: '/>
          <h:inputText id="name" value='#{registerBean.name}' required="true" 
                       requiredMessage="Please enter a name"/>
          <br/>
          
          <h:outputText value='Surname: '/>
          <h:inputText id="surname" value='#{registerBean.surname}' required="true"
                       requiredMessage="Please enter a surname"/>
          <br/>
          
          <h:outputText value='Email: '/>
          <h:inputText id="email" value='#{registerBean.email}' required="true"
                       requiredMessage="Please enter an emial"/>
          <br/>
          
          <h:outputText value='Username: '/>
          <h:inputText id="username" value='#{registerBean.username}' required="true"
                       requiredMessage="Please enter a username"/>
          <br/>
          
          <h:outputText value='Password: '/>
          <h:inputSecret id="password" value='#{registerBean.password}' required="true"
                       requiredMessage="Please enter a password"/>
          <br/>
          
          <h:commandButton value="Register" action="#{registerBean.register}"/>
          
          <br/>
          <h:outputText value='#{registerBean.errorMessage}'/>
    	</h:form>
        
        <br />

        <h:outputText value="You've been registered as #{registerBean.username}!"
                      rendered="#{registerBean.successful}"/>
        
        <footer>
            <p>Posted by: Josef, Niclas, Christoffer</p>
            <p>Contact information: <a href="mailto:cyalcin@kth.se">cyalcin@kth.se</a></p>
        </footer>
    </h:body>
</html>